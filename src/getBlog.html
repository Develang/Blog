<!doctype html>
<html lang="en">
  <head>
    <title></title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="blogsContainer" class="m-5"></div>

    <script>
      async function fetchBlogData() {
        try {
          console.log(window.location.pathname)
          const currentPath = window.location.pathname
          const parts = currentPath.split("/")
          const postId = parts[parts.length - 1]
          console.log(postId)
          const response = await fetch(`http://localhost:8000/getBlog/${postId}`)
          if (!response.ok) {
            throw new Error("Unable to fetch data")
          }
          const data = await response.json()
          console.log(data)
          return data
        } catch (error) {
          console.error("Error fetching blog data:", error)
          return null
        }
      }
      fetchBlogData().then((blogsData) => {
        if (blogsData && blogsContainer) {
          const { id, title, article } = blogsData
          blogsContainer.innerHTML = `
						<div>
						<h1>${title}</h1>
						<p>${article}</p>
						</div>
					`
        } else {
          console.log("Failed to fetch or render blog data.")
        }
      })
    </script>
  </body>
</html>
